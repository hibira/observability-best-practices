# 一般 - よくある質問

## ログとトレースの違いは何ですか?

ログは単一のアプリケーションとそれに関連するイベントに限定されます。例えば、ユーザーがマイクロサービスプラットフォームでホストされているウェブサイトにログインし、そのサイトで購入を行った場合、複数のアプリケーションから、そのユーザーに関連するログが出力される可能性があります。

1. フロントエンドのウェブサーバー
2. 認証サービス
3. 在庫サービス
4. 支払い処理のバックエンド
5. ユーザーに領収書を送信する送信メーラー

これらすべてが、そのユーザーに関する何らかのログを出力する可能性があり、そのデータはすべて価値があります。しかし、トレースは、これらの個別のコンポーネントにまたがる単一のトランザクション全体におけるユーザーの相互作用を、単一の一貫したビューで表示します。

このように、トレースは単一のアクティビティのビューを示すために複数のサービスからのイベントのコレクションであり、一方ログはそれを作成したアプリケーションのコンテキストに束縛されています。

## どのシグナルタイプがイミュータブル(不変性)なのでしょうか?

3 つの基本的なシグナルタイプ ([メトリクス](../signals/metrics/)、[ログ](../signals/logs/)、[トレース](../signals/logs/)) はすべてイミュータブルですが、実装によってはこの保証の程度が異なります。たとえば、ログのイミュータビリティは多くのガバナンスフレームワークで厳格な要件となっており、これを確保するためのツールが多数存在します。メトリクスとトレースも同様に *常に* イミュータブルでなければなりません。

これは、「不正なデータ」や正確でないデータをどのように扱うかという疑問を生みます。AWS のオブザーバビリティサービスには、誤って送信されたメトリクスやトレースを削除する機能はありません。CloudWatch Logs では、ログストリーム全体を削除することはできますが、一度収集されたデータを遡って変更することはできません。これはデザインによるものであり、お客様のデータを最大限注意深く扱うための重要な機能です。

## オブザーバビリティにおいてイミュータブル(不変性)が重要な理由は何ですか?

イミュータブル(不変性)はオブザーバビリティにとって非常に重要です。過去のデータを変更できると、システムやオペレーションの進化に際して *選択* の判断材料となる重要なエラーや異常な振る舞いを失ってしまいます。たとえば、長い時間のギャップを示すメトリクスデータポイントは単にデータ収集の欠如を示しているだけでなく、インフラストラクチャに深刻な問題があることを示している可能性があります。同様に、"null" データや空の時系列でさえ価値があります。

ガバナンスの観点から、事後的にアプリケーションログやトレースを変更すると、[非否認性](https://en.wikipedia.org/wiki/Non-repudiation)の原則に違反することになり、システム内のデータが本来のソースアプリケーションが意図したものであると信頼できなくなります。

## Blast Radius とは何ですか?

変更の Blast Radius とは、環境に与えうる潜在的な損害のことです。例えば、データベーススキーマを変更した場合、データベースのデータと、それに依存するすべてのアプリケーションにリスクが及ぶ可能性があります。

一般的に、変更の Blast Radius を小さくすることは推奨されるベストプラクティスです。可能な限り、変更を小さく、安全で、元に戻せるチャンクに分割することが推奨されます。

## "クラウドファースト" アプローチとは何ですか?

クラウドファーストの戦略とは、組織がインフラストラクチャの全部または大部分をクラウドコンピューティングプラットフォームに移行することです。物理的なサーバーなどのリソースを使用する代わりに、クラウド上にリソースを置きます。

従来の共同設置型ハードウェアに慣れている人には、これは革新的に見えるかもしれません。しかし、その逆も同様に当てはまります。クラウドファースト思考を採用する開発者は、サーバーを物理的な場所に縛ることは考えられないと感じます。クラウドファーストのチームは、サーバーを個別のハードウェアや仮想サーバーとしてではなく、ビジネス機能を果たすためのソフトウェアとして考えます。

クラウドファーストは、2020年代にとって、2010年代のモバイルファースト、2000年代初頭の仮想化と同じような存在です。

## 技術的債務とは何か?

[Wikipedia](https://en.wikipedia.org/wiki/Technical_debt) から引用:

> ソフトウェア開発において、技術的債務 (設計債務またはコード債務とも呼ばれる) とは、今すぐ簡単な (限定的な) 解決策を選択することで、より良いアプローチを取る代わりに追加の作業が必要になるという暗黙の費用のことです。

基本的に、レガシーコード、アプリケーション、人的プロセスを削除せずに作業負荷を増やし続けると、時間とともに債務が蓄積されます。技術的債務は絶対的な生産性を低下させます。

たとえば、ビジネスに直接的な価値をほとんどもたらさないレガシーシステムのメンテナンスに時間の 10% を費やさなければならない場合、その 10% は支払う *コスト* となります。技術的債務を減らすことは、価値を生む新製品を作る上で効果的な時間を増やすことに等しくなります。

## 関心の分離とは

オブザーバビリティソリューションのコンテキストにおいて、関心の分離とは、ワークロードやアプリケーションの機能領域を、独立して管理される個別のコンポーネントに分割することを意味します。各コンポーネントは、ログの構造やログの *発行* などの個別の関心事項に対処します。基盤となるコードを変更せずにコンポーネントの設定を制御できるため、開発者はアプリケーションの機能性と新機能の開発に集中でき、一方で DevOps 担当者はシステムパフォーマンスの最適化やトラブルシューティングに集中できます。

関心の分離は、コンピュータサイエンスにおける [中核的な概念](https://en.wikipedia.org/wiki/Separation_of_concerns) です。

## オペレーショナルエクセレンスとは何ですか?

オペレーショナルエクセレンスとは、ワークロードの運用に合わせてベストプラクティスを実行することです。AWS には Well-Architected という、オペレーショナルエクセレンスに特化したフレームワークがあります。オペレーショナルエクセレンスの詳細は[こちらのページ](https://docs.aws.amazon.com/ja_jp/wellarchitected/latest/operational-excellence-pillar/welcome.html)を参照してください。
